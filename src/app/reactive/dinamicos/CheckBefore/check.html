<h2>Template: <small> Din√°micos </small></h2>
<hr>

<form [formGroup]="miFormulario"
      autocomplete="off" 
      (ngSubmit)="guardar()"
>    
    <!-- Agregar User rol -->
    <div>
        <div>Agregar</div>
        <div>
            <div [formGroup]="nuevaAsignacion">

                <select formControlName="user">
                    <option value="sebas">sebas</option>
                    <option value="javier">javier</option>
                    <option value="alberto">alberto</option>
                </select>

                <select formControlName="role">
                    <option value="manager">gestor</option>
                    <option value="client">cliente</option>
                    <option value="manager admin">gestor admin</option>
                </select>

                <button class="btn btn-outline-primary" 
                        type="button"
                        (click)="agregarFavorito()"
                >Agregar</button>
            </div>
        </div>
    </div>

    <!-- lista de juegos favoritos -->
    <div class="mb-3 row">
        <div class="col-sm-9" formArrayName="asignaciones">
            <div class="input-group mb-1" 
                 *ngFor="let asignacion of favoritosArr.controls ; let i = index"
            >
            <div [formGroupName]="i">
                <select formControlName="user">
                    <option value="sebas">sebas</option>
                    <option value="javier">javier</option>
                    <option value="alberto">alberto</option>
                </select>
        
                <select formControlName="role">
                    <option value="manager">gestor</option>
                    <option value="client">cliente</option>
                    <option value="manager admin">gestor admin</option>
                </select>
            </div>
                <button type="button" 
                        class="btn btn-danger float-end"
                        (click)="eliminar(i)"
                >Eliminar</button>
            </div>
        </div>
    </div>


    <div class="row">
        <div class="col-12">
            <button type="submit" 
                    class="btn btn-primary float-end"
            >Guardar</button>
        </div>
    </div>
</form>


<span>Valid</span>
<pre>{{ miFormulario.valid }}</pre>

<br>

<span>Formulario</span>
<pre>{{ miFormulario.value | json }}</pre>

<span>nueva asignacion</span>
<pre>{{ nuevaAsignacion.value | json }}</pre>
<pre>{{ nuevaAsignacion.valid | json }}</pre>

<!-- <div>
    <div formArrayName="asignaciones">
        <div  
             *ngFor="let asignacion of favoritosArr.controls ; let i = index"
        >
        <select formControlName="user">
            <option value="sebas">sebas</option>
            <option value="javier">javier</option>
            <option value="alberto">alberto</option>
        </select>

        <select formControlName="role">
            <option value="manager">gestor</option>
            <option value="client">cliente</option>
            <option value="manager admin">gestor admin</option>
        </select>

            <
            <button type="button" 
                    class="btn btn-danger float-end"
                    (click)="eliminar(i)"
            >Eliminar</button>
        </div>
    </div>
</div> -->